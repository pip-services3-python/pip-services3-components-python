

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>pip_services3_components.connect package &mdash; pip-services3-components  documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="pip_services3_components.connect.ConnectionParams module" href="pip_services3_components.connect.ConnectionParams.html" />
    <link rel="prev" title="pip_services3_components.config.YamlConfigReader module" href="pip_services3_components.config.YamlConfigReader.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> pip-services3-components
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">pip_services3_components</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="pip_services3_components.html">pip_services3_components package</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="pip_services3_components.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="pip_services3_components.auth.html">pip_services3_components.auth package</a></li>
<li class="toctree-l4"><a class="reference internal" href="pip_services3_components.build.html">pip_services3_components.build package</a></li>
<li class="toctree-l4"><a class="reference internal" href="pip_services3_components.cache.html">pip_services3_components.cache package</a></li>
<li class="toctree-l4"><a class="reference internal" href="pip_services3_components.config.html">pip_services3_components.config package</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">pip_services3_components.connect package</a></li>
<li class="toctree-l4"><a class="reference internal" href="pip_services3_components.count.html">pip_services3_components.count package</a></li>
<li class="toctree-l4"><a class="reference internal" href="pip_services3_components.info.html">pip_services3_components.info package</a></li>
<li class="toctree-l4"><a class="reference internal" href="pip_services3_components.lock.html">pip_services3_components.lock package</a></li>
<li class="toctree-l4"><a class="reference internal" href="pip_services3_components.log.html">pip_services3_components.log package</a></li>
<li class="toctree-l4"><a class="reference internal" href="pip_services3_components.test.html">pip_services3_components.test package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="pip_services3_components.html#submodules">Submodules</a></li>
<li class="toctree-l3"><a class="reference internal" href="pip_services3_components.html#module-pip_services3_components">Module contents</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">pip-services3-components</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="modules.html">pip_services3_components</a> &raquo;</li>
        
          <li><a href="pip_services3_components.html">pip_services3_components package</a> &raquo;</li>
        
      <li>pip_services3_components.connect package</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/pip_services3_components.connect.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="pip-services3-components-connect-package">
<h1>pip_services3_components.connect package<a class="headerlink" href="#pip-services3-components-connect-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="pip_services3_components.connect.ConnectionParams.html">pip_services3_components.connect.ConnectionParams module</a><ul>
<li class="toctree-l2"><a class="reference internal" href="pip_services3_components.connect.ConnectionParams.html#pip-services3-components-connect-connectionparams">pip_services3_components.connect.ConnectionParams</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="pip_services3_components.connect.ConnectionResolver.html">pip_services3_components.connect.ConnectionResolver module</a><ul>
<li class="toctree-l2"><a class="reference internal" href="pip_services3_components.connect.ConnectionResolver.html#pip-services3-components-connect-connectionresolver">pip_services3_components.connect.ConnectionResolver</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="pip_services3_components.connect.DefaultDiscoveryFactory.html">pip_services3_components.connect.DefaultDiscoveryFactory module</a><ul>
<li class="toctree-l2"><a class="reference internal" href="pip_services3_components.connect.DefaultDiscoveryFactory.html#pip-services3-components-connect-defaultdiscoveryfactory">pip_services3_components.connect.DefaultDiscoveryFactory</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="pip_services3_components.connect.IDiscovery.html">pip_services3_components.connect.IDiscovery module</a><ul>
<li class="toctree-l2"><a class="reference internal" href="pip_services3_components.connect.IDiscovery.html#pip-services3-components-connect-idicovery">pip_services3_components.connect.IDicovery</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="pip_services3_components.connect.MemoryDiscovery.html">pip_services3_components.connect.MemoryDiscovery module</a><ul>
<li class="toctree-l2"><a class="reference internal" href="pip_services3_components.connect.MemoryDiscovery.html#pip-services3-components-connect-memorydiscovery">pip_services3_components.connect.MemoryDiscovery</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="module-pip_services3_components.connect">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-pip_services3_components.connect" title="Permalink to this headline">¶</a></h2>
<div class="section" id="pip-services3-components-connect-init">
<h3>pip_services3_components.connect.__init__<a class="headerlink" href="#pip-services3-components-connect-init" title="Permalink to this headline">¶</a></h3>
<p>Contains implementation of connection parameters, using various connection strings,
which are stripped of all credentials. If we need to configure a service, the port,
ip address, protocol, and other parameters – we use the ConnectionParams object, and
relevant helper classes (like <a class="reference internal" href="pip_services3_components.connect.ConnectionResolver.html#pip_services3_components.connect.ConnectionResolver.ConnectionResolver" title="pip_services3_components.connect.ConnectionResolver.ConnectionResolver"><code class="xref py py-class docutils literal notranslate"><span class="pre">ConnectionResolver</span></code></a>), for acquiring these parameters,
and for discovery of objects, components (which store and retrieve connection parameters).</p>
<p>### Discovery ###</p>
<p>Service that store a registry of various end-points (what services are where, and how to
connect to them). It knows the end-points, but doesn’t have the credentials to connect to them.
Separated for security reasons. IDiscovery – interface for creating registries.
MemoryDiscovery – registry that is stored in memory.</p>
<dl>
<dt>There exist 2 types of discovery:</dt><dd><ul class="simple">
<li><p>Static discovery: all services have static IP addresses (like DNS, which also works using static</p></li>
</ul>
<p>discovery) that are configured from the start and don’t change along the way. As of lately, used
more often than dynamic, because it is simpler to use and more reliable.
- Proxy (or reverse proxy) is created with a dns name, and all the dynamics of
starting/restarting/switching from one host to another – everything is nice and clear for the clients.
Infrastructure does all the hard work out of the box.
- Configure sets the static registry.
- Dynamic discovery: every time a service starts, it registers its address in the discovery service
(“Service name” at the following address “IP”). Clients then ask to resolve the address
by which the requested service can be reached. The service has a general name, by which other
services can resolve it.
- If a service stops working, you need to refresh its address, clean stale addresses,
heartbeats must be used – lots of problems and challenges. One service can have more than one address.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">copyright</dt>
<dd class="field-odd"><p>Conceptual Vision Consulting LLC 2018-2019, see AUTHORS for more details.</p>
</dd>
<dt class="field-even">license</dt>
<dd class="field-even"><p>MIT, see LICENSE for more details.</p>
</dd>
</dl>
<dl class="py class">
<dt id="pip_services3_components.connect.ConnectionParams">
<em class="property">class </em><code class="sig-prename descclassname">pip_services3_components.connect.</code><code class="sig-name descname">ConnectionParams</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">map</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pip_services3_components.connect.ConnectionParams" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://pip-services3-python.github.io/pip-services3-commons-python/pip_services3_commons.config.ConfigParams.html#pip_services3_commons.config.ConfigParams.ConfigParams" title="(in pip-services3-commons)"><code class="xref py py-class docutils literal notranslate"><span class="pre">pip_services3_commons.config.ConfigParams.ConfigParams</span></code></a></p>
<p>Contains connection parameters to connect to external services.</p>
<p>They are used together with credential parameters, but usually stored
separately from more protected sensitive values.</p>
<dl class="simple">
<dt>### Configuration parameters ###</dt><dd><ul class="simple">
<li><p>discovery_key: key to retrieve parameters from discovery service</p></li>
<li><p>protocol:      connection protocol like http, https, tcp, udp</p></li>
<li><p>host:          host name or IP address</p></li>
<li><p>port:          port number</p></li>
<li><p>uri:           resource URI or connection string with all parameters in it</p></li>
</ul>
</dd>
</dl>
<p>In addition to standard parameters ConnectionParams may contain any number of custom parameters</p>
<p>Example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">connection</span> <span class="o">=</span> <span class="n">ConnectionParams</span><span class="o">.</span><span class="n">from_tuples</span><span class="p">(</span><span class="s2">&quot;protocol&quot;</span><span class="p">,</span> <span class="s2">&quot;http&quot;</span><span class="p">,</span>
                                          <span class="s2">&quot;host&quot;</span><span class="p">,</span> <span class="s2">&quot;10.1.1.100&quot;</span><span class="p">,</span>
                                          <span class="s2">&quot;port&quot;</span><span class="p">,</span> <span class="s2">&quot;8080&quot;</span><span class="p">,</span>
                                          <span class="s2">&quot;cluster&quot;</span><span class="p">,</span> <span class="s2">&quot;mycluster&quot;</span><span class="p">)</span>

<span class="n">host</span> <span class="o">=</span> <span class="n">connection</span><span class="o">.</span><span class="n">get_host</span><span class="p">()</span>                             <span class="o">//</span> <span class="n">Result</span><span class="p">:</span> <span class="s2">&quot;10.1.1.100&quot;</span>
<span class="n">port</span> <span class="o">=</span> <span class="n">connection</span><span class="o">.</span><span class="n">get_port</span><span class="p">()</span>                             <span class="o">//</span> <span class="n">Result</span><span class="p">:</span> <span class="mi">8080</span>
<span class="n">cluster</span> <span class="o">=</span> <span class="n">connection</span><span class="o">.</span><span class="n">get_as_nullable_string</span><span class="p">(</span><span class="s2">&quot;cluster&quot;</span><span class="p">)</span>     <span class="o">//</span> <span class="n">Result</span><span class="p">:</span> <span class="s2">&quot;mycluster&quot;</span>
</pre></div>
</div>
<dl class="py method">
<dt id="pip_services3_components.connect.ConnectionParams.from_config">
<em class="property">static </em><code class="sig-name descname">from_config</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">config</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pip_services3_components.connect.ConnectionParams.from_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves a single ConnectionParams from configuration parameters
from “connection” section. If “connections” section is present instead,
then is returns only the first connection element.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>config</strong> – ConnectionParams, containing a section named “connection(s)”.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the generated ConnectionParams object.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pip_services3_components.connect.ConnectionParams.from_string">
<em class="property">static </em><code class="sig-name descname">from_string</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">line</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pip_services3_components.connect.ConnectionParams.from_string" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a new ConnectionParams object filled with key-value pairs serialized as a string.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>line</strong> – a string with serialized key-value pairs as <strong>“key1=value1;key2=value2;…”</strong>
Example: <strong>“Key1=123;Key2=ABC;Key3=2016-09-16T00:00:00.00Z”</strong></p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a new ConnectionParams object.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pip_services3_components.connect.ConnectionParams.from_tuples">
<em class="property">static </em><code class="sig-name descname">from_tuples</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">tuples</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pip_services3_components.connect.ConnectionParams.from_tuples" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a new ConnectionParams object filled with provided key-value pairs called tuples.
Tuples parameters contain a sequence of key1, value1, key2, value2, … pairs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>tuples</strong> – the tuples to fill a new ConnectionParams object.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a new ConnectionParams object.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pip_services3_components.connect.ConnectionParams.get_discovery_key">
<code class="sig-name descname">get_discovery_key</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pip_services3_components.connect.ConnectionParams.get_discovery_key" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the key to retrieve this connection from DiscoveryService.
If this key is null, than all parameters are already present.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the discovery key to retrieve connection.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pip_services3_components.connect.ConnectionParams.get_host">
<code class="sig-name descname">get_host</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pip_services3_components.connect.ConnectionParams.get_host" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the host name or IP address.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the host name or IP address.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pip_services3_components.connect.ConnectionParams.get_port">
<code class="sig-name descname">get_port</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pip_services3_components.connect.ConnectionParams.get_port" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the port number.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the port number.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pip_services3_components.connect.ConnectionParams.get_protocol">
<code class="sig-name descname">get_protocol</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">default_value</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pip_services3_components.connect.ConnectionParams.get_protocol" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the connection protocol.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>default_value</strong> – (optional) the default protocol</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the connection protocol or the default value if it’s not set.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pip_services3_components.connect.ConnectionParams.get_uri">
<code class="sig-name descname">get_uri</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pip_services3_components.connect.ConnectionParams.get_uri" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the resource URI or connection string. Usually it includes all connection parameters in it.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the resource URI or connection string.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pip_services3_components.connect.ConnectionParams.many_from_config">
<em class="property">static </em><code class="sig-name descname">many_from_config</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">config</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pip_services3_components.connect.ConnectionParams.many_from_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves all ConnectionParams from configuration parameters
from “connections” section. If “connection” section is present instead,
than it returns a list with only one ConnectionParams.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>config</strong> – a configuration parameters to retrieve connections</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a list of retrieved ConnectionParams</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pip_services3_components.connect.ConnectionParams.set_discovery_key">
<code class="sig-name descname">set_discovery_key</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pip_services3_components.connect.ConnectionParams.set_discovery_key" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the key to retrieve these parameters from DiscoveryService.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>value</strong> – a new key to retrieve connection.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pip_services3_components.connect.ConnectionParams.set_host">
<code class="sig-name descname">set_host</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pip_services3_components.connect.ConnectionParams.set_host" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the host name or IP address.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>value</strong> – a new host name or IP address.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pip_services3_components.connect.ConnectionParams.set_port">
<code class="sig-name descname">set_port</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pip_services3_components.connect.ConnectionParams.set_port" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the port number.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>value</strong> – a new port number.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pip_services3_components.connect.ConnectionParams.set_protocol">
<code class="sig-name descname">set_protocol</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pip_services3_components.connect.ConnectionParams.set_protocol" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the connection protocol.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>value</strong> – a new connection protocol.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pip_services3_components.connect.ConnectionParams.set_uri">
<code class="sig-name descname">set_uri</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pip_services3_components.connect.ConnectionParams.set_uri" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the resource URI or connection string.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>value</strong> – a new resource URI or connection string.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pip_services3_components.connect.ConnectionParams.use_discovery">
<code class="sig-name descname">use_discovery</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pip_services3_components.connect.ConnectionParams.use_discovery" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks if these connection parameters shall be retrieved from DiscoveryService.
The connection parameters are redirected to DiscoveryService when discovery_key parameter is set.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>true if connection shall be retrieved from DiscoveryService</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="pip_services3_components.connect.ConnectionResolver">
<em class="property">class </em><code class="sig-prename descclassname">pip_services3_components.connect.</code><code class="sig-name descname">ConnectionResolver</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">config</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">references</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pip_services3_components.connect.ConnectionResolver" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://pip-services3-python.github.io/pip-services3-commons-python/pip_services3_commons.config.IConfigurable.html#pip_services3_commons.config.IConfigurable.IConfigurable" title="(in pip-services3-commons)"><code class="xref py py-class docutils literal notranslate"><span class="pre">pip_services3_commons.config.IConfigurable.IConfigurable</span></code></a>, <a class="reference external" href="https://pip-services3-python.github.io/pip-services3-commons-python/pip_services3_commons.refer.IReferenceable.html#pip_services3_commons.refer.IReferenceable.IReferenceable" title="(in pip-services3-commons)"><code class="xref py py-class docutils literal notranslate"><span class="pre">pip_services3_commons.refer.IReferenceable.IReferenceable</span></code></a></p>
<p>Helper class to retrieve component connections.</p>
<p>If connections are configured to be retrieved from <a class="reference internal" href="pip_services3_components.connect.IDiscovery.html#pip_services3_components.connect.IDiscovery.IDiscovery" title="pip_services3_components.connect.IDiscovery.IDiscovery"><code class="xref py py-class docutils literal notranslate"><span class="pre">IDiscovery</span></code></a>,
it automatically locates <a class="reference internal" href="pip_services3_components.connect.IDiscovery.html#pip_services3_components.connect.IDiscovery.IDiscovery" title="pip_services3_components.connect.IDiscovery.IDiscovery"><code class="xref py py-class docutils literal notranslate"><span class="pre">IDiscovery</span></code></a> in component references
and retrieve connections from there using discovery_key parameter.</p>
<dl class="simple">
<dt>### Configuration parameters ###</dt><dd><ul class="simple">
<li><dl class="simple">
<dt>connection:</dt><dd><ul>
<li><p>discovery_key:               (optional) a key to retrieve the connection from IDiscovery</p></li>
<li><p>…                          other connection parameters</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>connections:                  alternative to connection</dt><dd><ul>
<li><p>[connection params 1]:       first connection parameters</p></li>
<li><p>…                      connection parameters for key 1</p></li>
<li><p>[connection params N]:       Nth connection parameters</p></li>
<li><p>…                      connection parameters for key N</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd>
<dt>### References ###</dt><dd><ul class="simple">
<li><p><cite>*:discovery:*:*:1.0</cite>    (optional) IDiscovery services to resolve connections</p></li>
</ul>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">config</span> <span class="o">=</span> <span class="n">ConfigParams</span><span class="o">.</span><span class="n">from_tuples</span><span class="p">(</span><span class="s2">&quot;connection.host&quot;</span><span class="p">,</span> <span class="s2">&quot;10.1.1.100&quot;</span><span class="p">,</span> <span class="s2">&quot;connection.port&quot;</span><span class="p">,</span> <span class="mi">8080</span><span class="p">)</span>

<span class="n">connectionResolver</span> <span class="o">=</span> <span class="n">ConnectionResolver</span><span class="p">()</span>
<span class="n">connectionResolver</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">config</span><span class="p">)</span>
<span class="n">connectionResolver</span><span class="o">.</span><span class="n">setReferences</span><span class="p">(</span><span class="n">references</span><span class="p">)</span>
<span class="n">connectionResolver</span><span class="o">.</span><span class="n">resolve</span><span class="p">(</span><span class="s2">&quot;123&quot;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="py method">
<dt id="pip_services3_components.connect.ConnectionResolver.add">
<code class="sig-name descname">add</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">connection</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pip_services3_components.connect.ConnectionResolver.add" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a new connection to component connections</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>connection</strong> – new connection parameters to be added</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pip_services3_components.connect.ConnectionResolver.configure">
<code class="sig-name descname">configure</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">config</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pip_services3_components.connect.ConnectionResolver.configure" title="Permalink to this definition">¶</a></dt>
<dd><p>Configures component by passing configuration parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>config</strong> – configuration parameters to be set.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pip_services3_components.connect.ConnectionResolver.get_all">
<code class="sig-name descname">get_all</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pip_services3_components.connect.ConnectionResolver.get_all" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets all connections configured in component configuration.
Redirect to Discovery services is not done at this point.
If you need fully fleshed connection use <a class="reference internal" href="#pip_services3_components.connect.ConnectionResolver.resolve" title="pip_services3_components.connect.ConnectionResolver.resolve"><code class="xref py py-func docutils literal notranslate"><span class="pre">resolve()</span></code></a> method instead.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>a list with connection parameters</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pip_services3_components.connect.ConnectionResolver.register">
<code class="sig-name descname">register</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">correlation_id</span></em>, <em class="sig-param"><span class="n">connection</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pip_services3_components.connect.ConnectionResolver.register" title="Permalink to this definition">¶</a></dt>
<dd><p>Registers the given connection in all referenced discovery services.
This method can be used for dynamic service discovery.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>correlation_id</strong> – (optional) transaction id to trace execution through call chain.</p></li>
<li><p><strong>connection</strong> – a connection to register.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pip_services3_components.connect.ConnectionResolver.resolve">
<code class="sig-name descname">resolve</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">correlation_id</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pip_services3_components.connect.ConnectionResolver.resolve" title="Permalink to this definition">¶</a></dt>
<dd><p>Resolves a single component connection. If connections are configured to be retrieved
from Discovery service it finds a <a class="reference internal" href="pip_services3_components.connect.IDiscovery.html#pip_services3_components.connect.IDiscovery.IDiscovery" title="pip_services3_components.connect.IDiscovery.IDiscovery"><code class="xref py py-class docutils literal notranslate"><span class="pre">IDiscovery</span></code></a> and resolves the connection there.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>correlation_id</strong> – (optional) transaction id to trace execution through call chain.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>resolved connection parameters or null if nothing was found.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pip_services3_components.connect.ConnectionResolver.resolve_all">
<code class="sig-name descname">resolve_all</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">correlation_id</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pip_services3_components.connect.ConnectionResolver.resolve_all" title="Permalink to this definition">¶</a></dt>
<dd><p>Resolves all component connection. If connections are configured to be retrieved
from Discovery service it finds a <a class="reference internal" href="pip_services3_components.connect.IDiscovery.html#pip_services3_components.connect.IDiscovery.IDiscovery" title="pip_services3_components.connect.IDiscovery.IDiscovery"><code class="xref py py-class docutils literal notranslate"><span class="pre">IDiscovery</span></code></a> and resolves the connection there.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>correlation_id</strong> – (optional) transaction id to trace execution through call chain.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a list of resolved connections.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pip_services3_components.connect.ConnectionResolver.set_references">
<code class="sig-name descname">set_references</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">references</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pip_services3_components.connect.ConnectionResolver.set_references" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets references to dependent components.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>references</strong> – references to locate the component dependencies.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="pip_services3_components.connect.DefaultDiscoveryFactory">
<em class="property">class </em><code class="sig-prename descclassname">pip_services3_components.connect.</code><code class="sig-name descname">DefaultDiscoveryFactory</code><a class="headerlink" href="#pip_services3_components.connect.DefaultDiscoveryFactory" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="pip_services3_components.build.Factory.html#pip_services3_components.build.Factory.Factory" title="pip_services3_components.build.Factory.Factory"><code class="xref py py-class docutils literal notranslate"><span class="pre">pip_services3_components.build.Factory.Factory</span></code></a></p>
<p>Creates IDiscovery components by their descriptors.</p>
</dd></dl>

<dl class="py class">
<dt id="pip_services3_components.connect.IDiscovery">
<em class="property">class </em><code class="sig-prename descclassname">pip_services3_components.connect.</code><code class="sig-name descname">IDiscovery</code><a class="headerlink" href="#pip_services3_components.connect.IDiscovery" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="http://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Interface for discovery services which are used to store and resolve connection parameters to connect to external services.</p>
<dl class="py method">
<dt id="pip_services3_components.connect.IDiscovery.register">
<code class="sig-name descname">register</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">correlation_id</span></em>, <em class="sig-param"><span class="n">key</span></em>, <em class="sig-param"><span class="n">connection</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pip_services3_components.connect.IDiscovery.register" title="Permalink to this definition">¶</a></dt>
<dd><p>Registers connection parameters into the discovery service.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>correlation_id</strong> – (optional) transaction id to trace execution through call chain.</p></li>
<li><p><strong>key</strong> – a key to uniquely identify the connection parameters.</p></li>
<li><p><strong>connection</strong> – a connection to be registered.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pip_services3_components.connect.IDiscovery.resolve_all">
<code class="sig-name descname">resolve_all</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">correlation_id</span></em>, <em class="sig-param"><span class="n">key</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pip_services3_components.connect.IDiscovery.resolve_all" title="Permalink to this definition">¶</a></dt>
<dd><p>Resolves all connection parameters by their key.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>correlation_id</strong> – (optional) transaction id to trace execution through call chain.</p></li>
<li><p><strong>key</strong> – a key to uniquely identify the connections.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a list with resolved connections.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pip_services3_components.connect.IDiscovery.resolve_one">
<code class="sig-name descname">resolve_one</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">correlation_id</span></em>, <em class="sig-param"><span class="n">key</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pip_services3_components.connect.IDiscovery.resolve_one" title="Permalink to this definition">¶</a></dt>
<dd><p>Resolves a single connection parameters by its key.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>correlation_id</strong> – (optional) transaction id to trace execution through call chain.</p></li>
<li><p><strong>key</strong> – a key to uniquely identify the connection.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a resolved connection.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="pip_services3_components.connect.MemoryDiscovery">
<em class="property">class </em><code class="sig-prename descclassname">pip_services3_components.connect.</code><code class="sig-name descname">MemoryDiscovery</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">config</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pip_services3_components.connect.MemoryDiscovery" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="pip_services3_components.connect.IDiscovery.html#pip_services3_components.connect.IDiscovery.IDiscovery" title="pip_services3_components.connect.IDiscovery.IDiscovery"><code class="xref py py-class docutils literal notranslate"><span class="pre">pip_services3_components.connect.IDiscovery.IDiscovery</span></code></a>, <a class="reference external" href="https://pip-services3-python.github.io/pip-services3-commons-python/pip_services3_commons.config.IReconfigurable.html#pip_services3_commons.config.IReconfigurable.IReconfigurable" title="(in pip-services3-commons)"><code class="xref py py-class docutils literal notranslate"><span class="pre">pip_services3_commons.config.IReconfigurable.IReconfigurable</span></code></a></p>
<p>Discovery service that keeps connections in memory.</p>
<dl class="simple">
<dt>### Configuration parameters ###</dt><dd><ul class="simple">
<li><p>[connection key 1]:</p></li>
<li><p>…                          connection parameters for key 1</p></li>
<li><p>[connection key 2]:</p></li>
<li><p>…                          connection parameters for key N</p></li>
</ul>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">config</span> <span class="o">=</span> <span class="n">ConfigParams</span><span class="o">.</span><span class="n">from_tuples</span><span class="p">(</span>
<span class="s2">&quot;key1.host&quot;</span><span class="p">,</span> <span class="s2">&quot;10.1.1.100&quot;</span><span class="p">,</span>
<span class="s2">&quot;key1.port&quot;</span><span class="p">,</span> <span class="s2">&quot;8080&quot;</span><span class="p">,</span>
<span class="s2">&quot;key2.host&quot;</span><span class="p">,</span> <span class="s2">&quot;10.1.1.100&quot;</span><span class="p">,</span>
<span class="s2">&quot;key2.port&quot;</span><span class="p">,</span> <span class="s2">&quot;8082&quot;</span><span class="p">)</span>

<span class="n">discovery</span> <span class="o">=</span> <span class="n">MemoryDiscovery</span><span class="p">()</span>
<span class="n">discovery</span><span class="o">.</span><span class="n">read_connections</span><span class="p">(</span><span class="n">config</span><span class="p">)</span>

<span class="n">discovery</span><span class="o">.</span><span class="n">resolve</span><span class="p">(</span><span class="s2">&quot;123&quot;</span><span class="p">,</span> <span class="s2">&quot;key1&quot;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="py method">
<dt id="pip_services3_components.connect.MemoryDiscovery.configure">
<code class="sig-name descname">configure</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">config</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pip_services3_components.connect.MemoryDiscovery.configure" title="Permalink to this definition">¶</a></dt>
<dd><p>Configures component by passing configuration parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>config</strong> – configuration parameters to be set.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pip_services3_components.connect.MemoryDiscovery.read_connections">
<code class="sig-name descname">read_connections</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">connections</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pip_services3_components.connect.MemoryDiscovery.read_connections" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads connections from configuration parameters.
Each section represents an individual Connectionparams</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>connections</strong> – configuration parameters to be read</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pip_services3_components.connect.MemoryDiscovery.register">
<code class="sig-name descname">register</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">correlation_id</span></em>, <em class="sig-param"><span class="n">key</span></em>, <em class="sig-param"><span class="n">connection</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pip_services3_components.connect.MemoryDiscovery.register" title="Permalink to this definition">¶</a></dt>
<dd><p>Registers connection parameters into the discovery service.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>correlation_id</strong> – (optional) transaction id to trace execution through call chain.</p></li>
<li><p><strong>key</strong> – a key to uniquely identify the connection parameters.</p></li>
<li><p><strong>connection</strong> – a connection to be registered.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pip_services3_components.connect.MemoryDiscovery.resolve_all">
<code class="sig-name descname">resolve_all</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">correlationId</span></em>, <em class="sig-param"><span class="n">key</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pip_services3_components.connect.MemoryDiscovery.resolve_all" title="Permalink to this definition">¶</a></dt>
<dd><p>Resolves all connection parameters by their key.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>correlation_id</strong> – (optional) transaction id to trace execution through call chain.</p></li>
<li><p><strong>key</strong> – a key to uniquely identify the connections.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a list with resolved connections.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pip_services3_components.connect.MemoryDiscovery.resolve_one">
<code class="sig-name descname">resolve_one</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">correlation_id</span></em>, <em class="sig-param"><span class="n">key</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pip_services3_components.connect.MemoryDiscovery.resolve_one" title="Permalink to this definition">¶</a></dt>
<dd><p>Resolves a single connection parameters by its key.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>correlation_id</strong> – (optional) transaction id to trace execution through call chain.</p></li>
<li><p><strong>key</strong> – a key to uniquely identify the connection.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a resolved connection.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="pip_services3_components.connect.ConnectionParams.html" class="btn btn-neutral float-right" title="pip_services3_components.connect.ConnectionParams module" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="pip_services3_components.config.YamlConfigReader.html" class="btn btn-neutral float-left" title="pip_services3_components.config.YamlConfigReader module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2020, Sergey Seroukhov.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>